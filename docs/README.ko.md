# μ „λµ (strategy)

μ΄ μ €μ¥μ†λ” [nb-runner](https://github.com/NeoMatrixAI/nb-runner) μ €μ¥μ†μ—μ„ μ‚¬μ©ν•λ” μ „λµ λ¨λ“κ³Ό μ„¤μ • νμΌλ“¤μ„ ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.

---

### π“ κµ¬μ΅°

κ° μ „λµμ€ λ³„λ„μ ν΄λ”λ΅ κµ¬μ„±λμ–΄ μμΌλ©° λ‹¤μ νμΌλ“¤μ„ ν¬ν•¨ν•©λ‹λ‹¤:
- `{strategy_name}.py`: μ „λµμ ν•µμ‹¬ λ΅μ§ (νμΌλ…μ€ ν΄λ”λ…κ³Ό μΌμΉν•΄μ•Ό ν•¨)
- `config.yaml`: ν•΄λ‹Ή μ „λµμ μ„¤μ • νμΌ

μμ‹:

```
strategy/
β”β”€β”€ common/                              # μ¬μ‚¬μ© κ°€λ¥ν• μ ν‹Έλ¦¬ν‹° λ¨λ“ (μ»¤μ¤ν…€ λ¨λ“)
β”‚   β”β”€β”€ momentum_utils.py                # μμ‹: λ¨λ©ν…€ κ³„μ‚° μ ν‹Έλ¦¬ν‹°
β”‚   β””β”€β”€ sltp_utils.py                    # μμ‹: μ†μ /μµμ  μ ν‹Έλ¦¬ν‹°
β”β”€β”€ futures/
β”‚   β””β”€β”€ multi_period_momentum/
β”‚       β”β”€β”€ multi_period_momentum.py     # μ „λµ λ΅μ§
β”‚       β””β”€β”€ config.yaml                  # μ„¤μ • (μ‹μ¤ν…, μ „λµ, λ°±ν…μ¤νΈ/μ‹¤κ±°λ μ„¤μ •)
β””β”€β”€ spot/
    β””β”€β”€ your_strategy/
        β”β”€β”€ your_strategy.py
        β””β”€β”€ config.yaml
```

μ΄ λ ν¬μ§€ν† λ¦¬λ” μ €ν¬κ°€ κ°λ°ν•κ³  μ •κΈ°μ μΌλ΅ μ—…λ°μ΄νΈν•λ” μ „λµ λ° μ„¤μ • νμΌλ“¤μ„ λ‹΄κ³  μμµλ‹λ‹¤.
μ‹¤ν–‰ κ°€λ¥ν• λ…ΈνΈλ¶μ΄λ‚ API λ¨λ“μ€ ν¬ν•¨λμ–΄ μμ§€ μ•μµλ‹λ‹¤.

ν•μ§€λ§ `nb-runner` ν™κ²½μ—μ„λ” μ—¬κΈ°μ— ν¬ν•¨λ κ²ƒλΏ μ•„λ‹λΌ
μ‚¬μ©μ λ§μ¶¤ν• μ „λµκ³Ό μ„¤μ • νμΌμ„ μμ λ΅­κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

---

### π“¦ μ»¤μ¤ν…€ λ¨λ“ (common/ ν΄λ”)

`common/` ν΄λ”λ” μ—¬λ¬ μ „λµμ—μ„ κ³µμ ν•  μ μλ” **μ¬μ‚¬μ© κ°€λ¥ν• μ ν‹Έλ¦¬ν‹° λ¨λ“**μ„ μ €μ¥ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

**μ¤‘μ”:** μ»¤μ¤ν…€ μ „λµμ—μ„ import κ²½λ΅λ” λ°λ“μ‹ `from common.xxx import ...` ν•μ‹μ„ μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤. μ„λ²„μ—μ„ μ‚¬μ©μκ°€ μ—…λ΅λ“ν• λ¨λ“μ„ `common/` ν΄λ”λ΅ λ§¤ν•‘ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

#### μ‚¬μ© κ°€λ¥ν• λ¨λ“

| λ¨λ“ | μ„¤λ… |
|------|------|
| `momentum_utils.py` | λ¨λ©ν…€ κ³„μ‚° λ° κ°€μ¤‘μΉ μ •κ·ν™” μ ν‹Έλ¦¬ν‹° |
| `sltp_utils.py` | μ†μ /μµμ  κ°€κ²© κ³„μ‚° μ ν‹Έλ¦¬ν‹° |

#### Import μμ‹

```python
# [FIXED] Import κ²½λ΅: ν•­μƒ 'from common.xxx' μ‚¬μ©
from common.momentum_utils import calculate_momentum, normalize_weights
from common.sltp_utils import compute_sltp
```

#### λ‚λ§μ λ¨λ“ λ§λ“¤κΈ°

1. `common/` ν΄λ”μ— μƒλ΅μ΄ `.py` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤
2. μ¬μ‚¬μ© κ°€λ¥ν• ν•¨μλ‚ ν΄λμ¤λ¥Ό μ •μν•©λ‹λ‹¤
3. μ „λµμ—μ„ `from common.your_module import your_function`μΌλ΅ importν•©λ‹λ‹¤

**μμ‹: custom_indicators.py**
```python
# common/custom_indicators.py
import pandas as pd

def calculate_rsi(prices: pd.Series, period: int = 14) -> pd.Series:
    """RSI(μƒλ€κ°•λ„μ§€μ) κ³„μ‚°"""
    delta = prices.diff()
    gain = (delta.where(delta > 0, 0)).rolling(window=period).mean()
    loss = (-delta.where(delta < 0, 0)).rolling(window=period).mean()
    rs = gain / loss
    return 100 - (100 / (1 + rs))
```

**μ „λµμ—μ„ μ‚¬μ©:**
```python
from common.custom_indicators import calculate_rsi

def strategy(context: DataContext, config_dict: dict) -> dict:
    # ... νμ¤ν† λ¦¬ λ°μ΄ν„° μ΅°ν ...
    rsi = calculate_rsi(close_prices, period=14)
    # ... μ „λµ λ΅μ§ ...
```

---

### π“¦ μ‚¬μ© λ°©λ²•

μ΄ μ €μ¥μ†μ μ „λµμ„ μ‚¬μ©ν•λ ¤λ©΄:
1. μ €μ¥μ†λ¥Ό ν΄λ΅ ν•κ±°λ‚ μµμ‹  λ²„μ „μΌλ΅ μ—…λ°μ΄νΈν•μ„Έμ”.
2. μ‚¬μ©ν•κ³  μ‹¶μ€ μ „λµμ„ μ„ νƒν•μ„Έμ”.
3. λ΅μ»¬ `nb-runner` ν™κ²½μ— λ΅λ“ν•μ„Έμ”.
4. `strategy_verify_test.ipynb`, `backtest.ipynb`, `trade.ipynb` κ°™μ€ λ…ΈνΈλ¶μ„ ν†µν•΄ μ‚¬μ©ν•μ„Έμ”.

λ°λ“μ‹ μ‹¤ν–‰ ν™κ²½μΈ [nb-runner](https://github.com/NeoMatrixAI/nb-runner) μ €μ¥μ†λ„ ν•¨κ» μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.

---

### π§© λ‚λ§μ μ „λµ λ§λ“¤κΈ°

μ΄λ³΄μλ„ μ‰½κ² λ”°λΌ ν•  μ μλ” ν„λ¬Ό, μ„ λ¬Ό μ „λµ λ¨λ“ λ° μ„¤μ • μ‘μ„± κ°€μ΄λ“λ„ μ κ³µν•©λ‹λ‹¤.

- π“ μμ„Έν• λ‚΄μ©μ€ μ•„λμ κ±°λ νƒ€μ…μ— λ”°λ¥Έ κ°€μ΄λ“λ¥Ό μ°Έκ³ ν•μ„Έμ”.
  - [ν„λ¬Ό μ „λµ κ°€μ΄λ“](../spot/README.md)
  - [μ„ λ¬Ό μ „λµ κ°€μ΄λ“](../futures/README.md)

> `strategy()` ν•¨μ μ‘μ„±λ²•, μ…μ¶λ ¥ ν•μ‹, ν•„μ κµ¬μ΅°, μ„¤μ • λ°©λ²• λ° μμ  μ½”λ“κ°€ λ‹¨κ³„λ³„λ΅ μ„¤λ…λμ–΄ μμµλ‹λ‹¤.

---

### π¤– AIλ΅ μ „λµ μƒμ„±ν•κΈ° (κ¶μ¥)

Claude, GPT, Gemini λ“±μ AI μ–΄μ‹μ¤ν„΄νΈλ¥Ό μ‚¬μ©ν•μ—¬ μ‰½κ² μ „λµμ„ λ§λ“¤ μ μμµλ‹λ‹¤.

**μ‚¬μ© λ°©λ²•:**
1. [μ„ λ¬Ό μ „λµ κ°€μ΄λ“](../futures/README.md)μ μ „μ²΄ λ‚΄μ©μ„ λ³µμ‚¬ν•©λ‹λ‹¤
2. AI μ–΄μ‹μ¤ν„΄νΈ (Claude, GPT, Gemini λ“±)μ— λ¶™μ—¬λ„£μµλ‹λ‹¤
3. μ›ν•λ” μ „λµ μ•„μ΄λ””μ–΄λ¥Ό μμ—°μ–΄λ΅ μ„¤λ…ν•©λ‹λ‹¤
4. AIκ°€ νΈν™λλ” `{strategy_name}.py`μ™€ `config.yaml` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤

**ν”„λ΅¬ν”„νΈ μμ‹:**
- "20μΌκ³Ό 50μΌ μ΄λ™ν‰κ· μ„  κµμ°¨ μ „λµμ„ λ§λ“¤μ–΄μ¤"
- "RSI κΈ°λ° ν‰κ·  νκ·€ μ „λµ: RSI < 30μ΄λ©΄ λ΅±, RSI > 70μ΄λ©΄ μ"
- "λ³Όλ¦°μ € λ°΄λ“λ¥Ό μ‚¬μ©ν• λ³€λ™μ„± λν μ „λµμ„ λ§λ“¤μ–΄μ¤"

> AI ν”„λ΅¬ν”„νΈ κ°€μ΄λ“μ—λ” ν”„λ΅λ•μ… μμ¤€μ μ „λµ μ½”λ“λ¥Ό μƒμ„±ν•κΈ° μ„ν• λ¨λ“  ν…ν”λ¦Ώ, λ°μ΄ν„° ν•μ‹, μμ κ°€ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.

---

### β“ λ¬Έμ λ° μ§€μ›

μ§λ¬Έμ΄λ‚ λ„μ›€μ΄ ν•„μ”ν•μ‹  κ²½μ° [**NeoMatrix Discord**](https://discord.gg/Xn26Q42DXD)λ¥Ό ν†µν•΄ λ¬Έμν•΄ μ£Όμ„Έμ”.
